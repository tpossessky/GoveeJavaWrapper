plugins {
    id 'java'
    id 'maven-publish'
}

group 'com.goveewrapper.tpossessky'
version '1.0'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'org.json', name: 'json', version: '20201115'
}

java {
    withJavadocJar()
    withSourcesJar()
}


tasks.named('jar'){
    manifest{
        attributes('Implementation-Title': project.name,
        'Implementation-Version': project.version)
    }
}

publishing{
    publications {
        mavenJava(MavenPublication) {
            artifactId = 'GoveeJavaWrapper'
            from GoveeWrapper.java
            groupID = project.group
            version project.version
        }
        pom {
            name = 'GoveeJavaWrapper'
            description = 'A Java Wrapper for the Govee APIs'
            licenses{
                license{
                    name = 'MIT License'
                    url = 'https://opensource.org/licenses/MIT'
                }
            }
        }

    }
}